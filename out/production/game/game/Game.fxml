<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/24.0.0"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="game.GameController">

    <top>
        <VBox fx:id="topVBox" alignment="CENTER" spacing="15" style="-fx-padding:15;">
            <HBox fx:id="ammoHBox" alignment="CENTER_LEFT" spacing="20">
                <Label fx:id="ammoLabel" text="Ammo: 0" />
                <Label fx:id="activeAmmoLabel" text="" />
            </HBox>
            <VBox fx:id="healthVBox" alignment="CENTER" spacing="10">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="🤖 Robot 1 - Ammo: 10" />
                    <ProgressBar fx:id="health1" progress="1.0" />
                </HBox>
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="🤖 Robot 2 - Ammo: 10" />
                    <ProgressBar fx:id="health2" progress="1.0" />
                </HBox>
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="🤖 Robot 3 - Ammo: 10" />
                    <ProgressBar fx:id="health3" progress="1.0" />
                </HBox>
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="🤖 Robot 4 - Ammo: 10" />
                    <ProgressBar fx:id="health4" progress="1.0" />
                </HBox>
            </VBox>
            <Label fx:id="movementStatusLabel" text="" />
        </VBox>
    </top>

    <center>
        <GridPane fx:id="mapGrid" alignment="CENTER" hgap="1" vgap="1"
                  style="-fx-background-color: #9bbbd4; -fx-padding:5; -fx-border-color:#6a8ca0; -fx-border-width:2;"
                  prefHeight="420" prefWidth="420">
            <columnConstraints>
                <!-- 14 ستون با اندازه ثابت 30 -->
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
                <ColumnConstraints minWidth="30" prefWidth="30" maxWidth="30"/>
            </columnConstraints>
            <rowConstraints>
                <!-- 14 ردیف با اندازه ثابت 30 -->
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
                <RowConstraints minHeight="30" prefHeight="30" maxHeight="30"/>
            </rowConstraints>
        </GridPane>
    </center>

    <bottom>
        <ScrollPane hbarPolicy="AS_NEEDED" vbarPolicy="NEVER" fitToHeight="true" style="-fx-padding:10;">
            <HBox alignment="CENTER" spacing="10" style="-fx-background-color:#d0e6ff; -fx-border-color:#aaccee; -fx-border-width:2 0 0 0;" minHeight="60">
                <Button fx:id="selectRobot1Button" onAction="#selectRobot1" text="🤖 Robot 1" style="-fx-font-weight:bold; -fx-text-fill:#1c7ed6; -fx-background-color:#e7f5ff;" prefWidth="90"/>
                <Button fx:id="selectRobot2Button" onAction="#selectRobot2" text="🤖 Robot 2" style="-fx-font-weight:bold; -fx-text-fill:#1c7ed6; -fx-background-color:#e7f5ff;" prefWidth="90"/>
                <Button fx:id="selectRobot3Button" onAction="#selectRobot3" text="🤖 Robot 3" style="-fx-font-weight:bold; -fx-text-fill:#1c7ed6; -fx-background-color:#e7f5ff;" prefWidth="90"/>
                <Button fx:id="selectRobot4Button" onAction="#selectRobot4" text="🤖 Robot 4" style="-fx-font-weight:bold; -fx-text-fill:#1c7ed6; -fx-background-color:#e7f5ff;" prefWidth="90"/>

                <Button fx:id="moveLeftButton" onAction="#moveLeft" text="←" style="-fx-font-weight:bold; -fx-background-color:#b0d1ff; -fx-text-fill:#0a3d62; -fx-font-size:18px;" prefWidth="50"/>
                <VBox spacing="3">
                    <Button fx:id="moveUpButton" onAction="#moveUp" text="↑" style="-fx-font-weight:bold; -fx-background-color:#b0d1ff; -fx-text-fill:#0a3d62; -fx-font-size:14px;" prefWidth="50"/>
                    <Button fx:id="moveDownButton" onAction="#moveDown" text="↓" style="-fx-font-weight:bold; -fx-background-color:#b0d1ff; -fx-text-fill:#0a3d62; -fx-font-size:14px;" prefWidth="50"/>
                </VBox>
                <Button fx:id="moveRightButton" onAction="#moveRight" text="→" style="-fx-font-weight:bold; -fx-background-color:#b0d1ff; -fx-text-fill:#0a3d62; -fx-font-size:18px;" prefWidth="50"/>

                <Button fx:id="shootButton" onAction="#shoot" text="💥 شلیک" style="-fx-font-weight:bold; -fx-background-color:#ff6b6b; -fx-text-fill:white; -fx-font-size:16px;" prefWidth="90"/>
                <Button onAction="#exitToMainMenu" text="خروج از بازی" style="-fx-background-color:#fa5252; -fx-text-fill:white; -fx-font-weight:bold;" prefWidth="90"/>
            </HBox>
        </ScrollPane>
    </bottom>

</BorderPane>
